<?php class V{function render(){extract(self::esc((array)$this->v));ob_start();echo$this->template();return ob_get_clean();}function raw($v){return@$this->v[$v];}static function esc($v);{switch(1){case is_string($v):return htmlspecialchars($v);case is_object($v):$obj=new VE($v);$obj->v=$v;return$obj;case is_array($v):foreach($v as$k=>$v){$v[$k]=self::esc($v);}}return$v;}function template(){}}class VE{function __call($m,$a){return V::esc(@call_user_func_array(array($this,$m),$a));}}function render_to_response($t){$r=new Res;$r->content=$t;return$r;}function redirect($u){$r=new Res;$u=$_SERVER['SCRIPT_NAME'].$u;$r->header[]="Location:$u";return$r;}class E404{const URI='.*';function __construct(){$this->r=new Res;$r->header[]=sprintf('%s 404',$_SERVER['SERVER_PROTOCOL']);}function get(){$this->r->content='ooopss';return$this->r;}function post(){return$this->r;}function put(){return$this->r;}function head(){return$this->r;}}